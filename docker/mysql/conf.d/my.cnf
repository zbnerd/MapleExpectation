# Issue #209: MySQL Slow Query Log Configuration
# 5-Agent Council 합의:
# - Red (Lead): 디스크 폭발 방지를 위한 throttle 설정
# - Green: 1초 이상 쿼리 기록
# - Purple: 민감 정보 제한 (log_slow_extra 비활성화)

[mysqld]
# ============================================
# Slow Query Log 기본 설정
# ============================================
slow_query_log = 1
slow_query_log_file = /var/log/mysql/slow.log
long_query_time = 1

# ============================================
# 인덱스 미사용 쿼리 감지
# ============================================
# 인덱스를 사용하지 않는 쿼리 기록
log_queries_not_using_indexes = 1

# 분당 최대 10개로 제한 (디스크 폭발 방지 - Green 승인)
log_throttle_queries_not_using_indexes = 10

# ============================================
# 보안 설정 (Purple 승인)
# ============================================
# 추가 정보 기록 비활성화 (민감 정보 보호)
log_slow_extra = 0
