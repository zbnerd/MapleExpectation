spring:
  datasource:
    url: jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_DELAY=-1
    driver-class-name: org.h2.Driver
    username: sa
    password:
    hikari:
      maximum-pool-size: 5
      minimum-idle: 5
  jpa:
    hibernate:
      ddl-auto: create-drop
    properties:
      hibernate:
        format_sql: true
        show_sql: true

# ğŸ“Š [ì¶”ê°€] í…ŒìŠ¤íŠ¸ ì‹œ ì„œí‚· ìƒíƒœ í™•ì¸ì„ ìœ„í•´ í•„ìš”
management:
  endpoint:
    health:
      show-details: always
  health:
    circuitbreakers:
      enabled: true

# ğŸ›¡ï¸ [ì¶”ê°€] í…ŒìŠ¤íŠ¸ í•µì‹¬ ì„¤ì • (ì´ê²Œ ì—†ì–´ì„œ ì‹¤íŒ¨í•œ ê²ƒ!)
resilience4j:
  circuitbreaker:
    configs:
      default:
        registerHealthIndicator: true
        slidingWindowSize: 10              # 10ë²ˆë§Œ ì‹¤íŒ¨í•´ë„ ì„œí‚· ì˜¤í”ˆ
        failureRateThreshold: 50           # ì‹¤íŒ¨ìœ¨ 50% ê¸°ì¤€
        waitDurationInOpenState: 10s
        permittedNumberOfCallsInHalfOpenState: 3
    instances:
      nexonApi:
        baseConfig: default

  retry:
    instances:
      nexonApi:
        maxAttempts: 3                     # í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ times(3)ì™€ ì¼ì¹˜í•´ì•¼ í•¨
        waitDuration: 0ms                  # í…ŒìŠ¤íŠ¸ ì†ë„ë¥¼ ìœ„í•´ ëŒ€ê¸°ì‹œê°„ 0ìœ¼ë¡œ ì„¤ì •

logging:
  level:
    root: info
    org.hibernate.SQL: debug
    maple.expectation: DEBUG # ìš°ë¦¬ íŒ¨í‚¤ì§€ ë¡œê·¸ ì¶œë ¥

nexon:
  api:
    key: "test_dummy_key"

discord:
  webhook-url: "https://discord.com/api/webhooks/dummy/test"

app:
  optimization:
    use-compression: false
  aop:
    trace:
      enabled: true