# 🚀 MapleExpectation: Engineering Roadmap & Backlog Analysis

## 1. 아키텍처 비전 (Architecture Vision)
본 프로젝트는 단순히 기능을 구현하는 것을 넘어, **"고가용성 분산 환경에서도 데이터 정합성과 성능을 보장하는 견고한 시스템"** 구축을 목표로 합니다. 이를 위해 기술적 부채를 체계적으로 상환하고, 확장 가능한(Scalable) 구조로의 전환을 단계별로 수행합니다.

---

## 2. 백로그 관리 전략: 3대 핵심 축 (The 3 Core Axes)

현재 산재한 이슈들을 시스템의 생존과 성장을 위한 세 가지 축으로 분류하여 우선순위를 관리합니다.



### 🟢 축 A: 운영 안정성 및 정합성 (Survival - P0)
**"서버의 심정지와 데이터 오염을 막는 최우선 과제"**
* **핵심 이슈:** `#130(MySQL 세션 락)`, `#118(.join 제거)`, `#127(멱등성 보장)`
* **전략:** 비즈니스 로직 수정에 앞서, 시스템이 예기치 못한 상황(리더 크래시, 트래픽 폭주)에서도 스스로를 보호할 수 있는 방어 기제 구축.
* **성과:** `NexonDataCacheAspect`의 비동기 논블로킹 전환을 통해 **Thread Starvation** 위험을 원천 차단함.

### 🔵 축 B: 도메인 실행 기반 공사 (Foundation - Infrastructure)
**"엔지니어링 생산성 및 관측성 확보"**
* **핵심 이슈:** `#131(전역 실행 템플릿)`, `#138(TaskContext 도입)`
* **전략:** `LogicExecutor`를 통한 **관심사 분리(Separation of Concerns)**. 비즈니스 로직에서 기술적 노이즈(try-catch, 메트릭 기록, 예외 번역)를 완전히 걷어내어 가독성과 유지보수성 극대화.
* **핵심 패턴:** **Thin Aspect Pattern**을 도입하여 모든 AOP 계층을 표준화함.


### 🔴 축 C: 성능 및 확장성 (Scale-out - v2.0)
**"유니콘 아키텍처로의 도약"**
* **핵심 이슈:** `#126(CQRS 서버 분리)`, `#80(Transactional Outbox)`
* **전략:** 축 A와 B가 완성된 후, 물리적 서버 분리 및 이벤트 기반 아키텍처 도입. 조회와 처리 리소스를 격리하여 시스템 전체의 throughput을 비약적으로 향상시킴.


---

## 3. 기술적 임계점 분석 (Tipping Point Analysis)

| 분석 차원 | 현재 상태 (Legacy / Transition) | 해결 후 목표 (Future State) |
| :--- | :--- | :--- |
| **운영 안정성** | 좀비 락, 스레드 블로킹으로 인한 불안정성 | 무중단 및 자가 치유(Self-healing) 시스템 |
| **개발 생산성** | 리팩토링 시 연쇄 폭발(Ripple Effect) 발생 | 규격화된 템플릿 기반의 신속한 기능 추가 |
| **시스템 확장성** | 단일 서버의 자원 경합(Resource Contention) | CQRS 기반의 독립적 스케일아웃 가능 구조 |

---

## 4. 엔지니어링 가이드라인 (Tactical Guidelines)

1.  **기반 설계의 무결성 중시:** `#138(TaskContext)`과 같은 기반 설계는 하위 호환성과 정합성을 완벽하게 검증한다. 기반이 단단해야 수십 개의 파일을 기계적으로 리팩토링할 수 있다.
2.  **데이터 기반 트러블슈팅:** 모든 이슈 해결 시 메트릭과 로그를 통해 증명한다. 특히 카디널리티 통제를 통해 모니터링 시스템의 안정성을 확보한다.
3.  **점진적 개선:** 한 번에 모든 결합도를 낮추는 것은 불가능하므로, "적당히 썩은 코드가 돈을 벌어다 주는 현실"을 인정하고 **임계점(80%)**까지만 정교하게 리팩토링한 뒤 비즈니스 가치 창출로 넘어간다.

---

## 5. 결론
2026년의 개발 환경에서 단순 기능 구현은 AI의 몫입니다. 엔지니어의 핵심 역량은 **"시스템의 복잡도를 관리하고 운영 정합성을 유지하는 설계 능력"**에 있습니다. 본 로드맵에 따른 리팩토링 과정은 MapleExpectation이 단순한 기능을 넘어 대규모 트래픽을 견디는 프로덕션 급 서비스로 거듭나기 위한 필수적인 투자입니다.